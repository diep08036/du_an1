<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Gi·ªè h√†ng ‚Äì S·ª®A S·ª®A ∆†I</title>
    <link rel="stylesheet" href="ming2.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
  </head>

  <body>
    <!-- HEADER -->
    <header>
      <h1>S·ª®A S·ª®A ∆†I</h1>
      <nav>
        <ul class="nav-links">
          <li><a href="index.html">Trang ch·ªß</a></li>
          <li><a href="about.html">Gi·ªõi thi·ªáu</a></li>
          <li><a href="menu.html">Th·ª±c ƒë∆°n</a></li>
          <li><a href="combo.html">Li√™n h·ªá</a></li>
          <li>
            <a href="cart.html" class="active">
              <i class="fa-solid fa-cart-shopping"></i> Gi·ªè h√†ng
            </a>
          </li>
          <li>
            <a href="order.html"><i class="fa-solid fa-phone"></i> ƒê·∫∑t m√≥n</a>
          </li>
        </ul>
      </nav>
    </header>

    <!-- BANNER -->
    <section class="cart-banner">
      <h2>GI·ªé H√ÄNG C·ª¶A B·∫†N</h2>
      <p>Ki·ªÉm tra m√≥n tr∆∞·ªõc khi ƒë·∫∑t h√†ng</p>
    </section>

    <!-- GI·ªé H√ÄNG -->
    <main class="cart-page">
      <!-- DANH S√ÅCH M√ìN (JS ƒê·ªî V√ÄO) -->
      <section class="cart-items" id="cart-items"></section>

      <!-- T√ìM T·∫ÆT -->
      <aside class="cart-summary">
        <h3>T√ìM T·∫ÆT ƒê∆†N H√ÄNG</h3>

        <div class="summary-row">
          <span>T·∫°m t√≠nh</span>
          <span id="sub-total">0ƒë</span>
        </div>

        <div class="summary-row">
          <span>Ph√≠ giao h√†ng</span>
          <span>15.000ƒë</span>
        </div>

        <div class="summary-row total">
          <span>T·ªïng c·ªông</span>
          <span id="total-price">0ƒë</span>
        </div>

        <a href="order.html" class="btn checkout-btn"> TI·∫æN H√ÄNH ƒê·∫∂T M√ìN </a>
      </aside>
    </main>

    <!-- FOOTER -->
    <footer>
      <p>¬© 2026 S·ª®A S·ª®A ∆†I ‚Äì ƒê·∫∑c s·∫£n Cam Ranh</p>
    </footer>

    <!-- JAVASCRIPT -->
    <script>
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      const cartContainer = document.getElementById("cart-items");
      const subTotalEl = document.getElementById("sub-total");
      const totalEl = document.getElementById("total-price");

      const shipping = 15000;
      let subTotal = 0;

      function renderCart() {
        cartContainer.innerHTML = "";
        subTotal = 0;

        if (cart.length === 0) {
          cartContainer.innerHTML = "<p>üõí Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng</p>";
          subTotalEl.textContent = "0ƒë";
          totalEl.textContent = "0ƒë";
          return;
        }

        cart.forEach((item, index) => {
          const itemTotal = item.price * item.qty;
          subTotal += itemTotal;

          cartContainer.innerHTML += `
      <div class="cart-item">
        <img src="${item.image}" alt="${item.name}" class="cart-img">

        <div class="cart-info">
          <h3>${item.name}</h3>
          <p>${item.price.toLocaleString()}ƒë</p>
        </div>

        <div class="cart-qty">
          <input type="number" min="1" value="${item.qty}"
            onchange="updateQty(${index}, this.value)">
        </div>

        <div class="cart-price">
          ${itemTotal.toLocaleString()}ƒë
        </div>

        <button class="delete-btn" onclick="removeItem(${index})">
          ‚ùå
        </button>
      </div>
    `;
        });

        subTotalEl.textContent = subTotal.toLocaleString() + "ƒë";
        totalEl.textContent = (subTotal + shipping).toLocaleString() + "ƒë";
      }

      function updateQty(index, qty) {
        cart[index].qty = parseInt(qty);
        localStorage.setItem("cart", JSON.stringify(cart));
        renderCart();
      }

      function removeItem(index) {
        cart.splice(index, 1);
        localStorage.setItem("cart", JSON.stringify(cart));
        renderCart();
      }

      renderCart();
    </script>
  </body>
</html>
